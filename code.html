<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Two: A Coding Challenge</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!--Icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!--Dev Icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">

    <!--Prism CSS-->
    <link rel="stylesheet" href="/css/prism.css">

    <!--CSS Themes-->
    <link rel="stylesheet" href="css/themes.css">

    <!--Custom CSS-->
    <link rel="stylesheet" href="css/site.css">
</head>

<body data-ss-theme="yellow">
    <header>
        <!--Navbar-->
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container">
                <a class="navbar-brand" href="/index.html">
                    <img src="img/S_Logo.png" height="40" />
                    Tech Two
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="/index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/app.html">The App</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/code.html">The Code</a>
                        </li>
                        <li class="nav-item">
                            <!--Change Me-->
                            <a class="nav-link" href="https://github.com/sijo708/TechTwo">The Repo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://sijosajan.com/">Portfolio</a>
                        </li>
                        <li class="nav-item">
                            <!--Change Me-->
                            <a class="nav-link" href="https://myblog-production-9fdb.up.railway.app/">Blog</a>
                        </li>

                    </ul>

                </div>
            </div>
        </nav>
    </header>

    <main class="container py-3">
        <h1 class="border-bottom border-dark">The Code</h1>
        <div class="row">
            <!--the JavaScript code-->
            <div class="col-12 col-lg-8">
                <pre class="line-numbers">
                    <code class="language-js">
                        function getValues() {
                            let userMessage = document.getElementById('message').value;
                        
                            // Process the input to remove non-alphanumeric characters and convert to lowercase
                            let processedMessage = userMessage.toLowerCase().replace(/[^a-z0-9]/gi, '');
                        
                            // Check if the processed message is less than 2 characters
                            if (processedMessage.length < 2) {
                                Swal.fire({
                                    icon: 'error',
                                    backdrop: false,
                                    title: 'Oops',
                                    text: 'Please enter at least 2 alphanumeric characters to check for palindrome.'
                                });
                        
                                return;
                            } else {
                                // Check if the processed message is a palindrome
                                let isPalindrome = checkForPalindrome(processedMessage);
                                // Reverse the original user message for display
                                let userMessageReversed = reverseString(userMessage);
                        
                                // Create an object with the original and reversed messages and the palindrome result
                                let results = {
                                    input: userMessage,
                                    reversed: userMessageReversed,
                                    isPalindrome: isPalindrome
                                };
                        
                                // Display the results
                                displayResults(results);
                            }
                        }
                        
                        function displayResults(results) {
                            let alert = document.getElementById('alert');
                            alert.classList.remove('invisible', 'alert-success', 'alert-danger');
                        
                            if (results.isPalindrome == true) {
                                // Make the alert green for success
                                alert.classList.add('alert-success');
                                alert.querySelector('h4').innerHTML = 'Well Done! You entered a palindrome';
                            } else {
                                // Make the alert red for failure
                                alert.classList.add('alert-danger');
                                alert.querySelector('h4').innerHTML = 'Oh No! That is not a palindrome';
                            }
                        
                            // Display the input and reversed messages in the alert body
                            alert.querySelector('p').innerHTML = `You entered: <b>${results.input}</b>.<br /> Your message reversed is: <b>${results.reversed}</b>`;
                        }
                        
                        function checkForPalindrome(input) {
                            // The input is already processed (lowercased and non-alphanumeric characters removed)
                            let reversed = reverseString(input);
                        
                            // Check if the reversed string is the same as the input
                            let isPalindrome = reversed === input;
                        
                            // Return a value indicating whether it is or is not a palindrome
                            return isPalindrome;
                        }
                        
                        function reverseString(inputString) {
                            let result = '';
                        
                            // Loop through the string from the end towards the beginning
                            for (let index = inputString.length - 1; index >= 0; index--) {
                                result += inputString[index];
                            }
                        
                            return result;
                        }
                        
                    </code>
                </pre>
            </div>

            <!-- The code's explanation -->
            <div class="col-12 col-lg-4">
                <p>The code is structured in 4 functions</p>
                <h5><code>getValues()</code></h5>
                <p>
                    The <code>getValues</code> function retrieves the user's input from a text box, processes it to remove non-alphanumeric characters, and converts it to lowercase. 
                    It then checks if the processed input is a palindrome. If the input is too short, it displays an error message using Sweet Alert to prompt the user to enter more characters. 
                    If the input is valid, it reverses the input string, determines if it is a palindrome, and then prepares the results for display.
                </p>
                <h5><code>displayResults()</code></h5>
                <p>
                    The <code>displayResults</code> function updates the HTML to indicate whether the user's input is a palindrome. 
                    It modifies the alert's appearance based on the result, using a green alert for success and a red alert for failure. 
                    The function also displays both the original and reversed input strings, formatting them in bold for emphasis. 
                    This visual feedback helps the user quickly understand the result of their input.
                </p>
                <h5><code>checkForPalindrome()</code></h5>
                <p>
                    The <code>checkForPalindrome</code> function takes a processed string, removes any non-alphanumeric characters, and converts it to lowercase. 
                    It then reverses this processed string and compares the reversed string to the original processed string. 
                    If the two strings are identical, it returns a boolean value indicating that the input is a palindrome. 
                    This function simplifies the main logic by isolating the palindrome check into a single, reusable component.
                </p>
                <h5><code>reverseString()</code></h5>
                <p>
                    The <code>reverseString</code> function reverses the input string by iterating from the end of the string to the beginning. 
                    It constructs the reversed string character by character in a loop. 
                    This function is essential for both displaying the reversed input to the user and checking for palindromes. 
                    By handling the reversal separately, the code remains modular and easier to maintain.
                </p>
            </div>
            
        </div>
    </main>

    <footer class="container-fluid py-3">
        <div class="container">
            <div class="row align-items-center row-cols-1 gy-2 row-cols-lg-3">
                <div class="col text-center order-last order-lg-first text-lg-start">
                    &copy; 2024 Sijo Sajan
                </div>
                <div class="col text-center">
                    <img src="/img/S_Logo.png" height="35">
                </div>
                <div class="col text-center text-lg-end">
                    <a href="https://www.linkedin.com/in/sijosajan/" class="text-decoration-none">
                        <i class="bi bi-linkedin p-2"></i>
                    </a>
                    <a href="https://github.com/sijo708/" class="text-decoration-none">
                        <i class="bi bi-github p-2"></i>
                    </a>
                    <a href="mailto:sijo708@yahoo.com" class="text-decoration-none">
                        <i class="bi bi-envelope-at p-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!--Booststrap Script-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <!--Prism JS-->
    <script src="/js/prism.js"></script>

    <script>
        Prism.plugins.NormalizeWhitespace.setDefaults({
            'remove-trailing': true,
            'remove-indent': true,
            'left-trim': true,
            'right-trim': true
        })
    </script>
</body>

</html>